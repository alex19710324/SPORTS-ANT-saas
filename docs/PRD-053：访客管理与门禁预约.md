# PRD-053：访客管理与门禁预约（适配Trae开发）

## 1. 概述
- **目标用户**：前台、行政、被访员工。
- **核心价值**：实现访客线上预约、审核、门禁联动、访问记录可追溯，提升办公安全与访客体验。
- **技术目标**：集成门禁硬件（API/协议）、小程序访客端、审批引擎，访客通行成功率≥99%。

## 2. 用户故事
- 作为**被访员工**，我邀请客户来访，在小程序填写访客信息，提交后自动生成通行二维码。
- 作为**前台**，访客扫码入园，系统记录进出时间，异常时告警。

## 3. 功能列表（按优先级）

### 3.1 访客预约（P0）

| ID | 功能名称 | 描述 | 技术实现要点 | 验收标准 |
|----|----------|------|--------------|----------|
| VM01 | 访客信息录入 | 被访员工填写访客姓名、手机、车牌、来访事由、时间。 | 接口：`POST /api/visitor/invite` | 录入成功 |
| VM02 | 审核通知 | 管理员可设置是否需要审核，审核通过后生成通行二维码。 | 工作流 | 通知及时 |

### 3.2 门禁联动（P0）

| ID | 功能名称 | 描述 | 技术实现要点 | 验收标准 |
|----|----------|------|--------------|----------|
| VM03 | 扫码通行 | 访客出示二维码，闸机扫码验证，自动开门。 | 门禁API | 开锁成功率≥99% |
| VM04 | 访客记录 | 记录进出时间、抓拍照片（可选），存档备查。 | 日志服务 | 记录完整 |

### 3.3 黑名单管理（P1）

| ID | 功能名称 | 描述 | 技术实现要点 | 验收标准 |
|----|----------|------|--------------|----------|
| VM05 | 黑名单库 | 可维护黑名单访客（手机号），预约时自动拦截。 | 规则引擎 | 拦截准确 |

## 4. 依赖模块
- 消息通知中心（PRD-043）
- 硬件联动网关（PRD-005）

---
**版本历史**：V1.0 2025-03-03