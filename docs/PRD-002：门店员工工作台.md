# PRD-002：门店员工工作台（深圳Party Day模板版·适配Trae开发）【更新版】

## 1. 概述
- **目标用户**：潮玩馆门店各岗位员工，包括店长、店助、前台、前台主管、导玩员、技术员、技术主管、安监机修、保洁、财务、出纳、人事行政、市场营销、团建专员等。
- **核心价值**：为每个岗位提供千人千面的工作台，集成核心任务、数据看板、审批流程，实现门店运营数字化、自动化，提升人效。
- **技术目标**：基于Spring Boot + Vue3微服务架构，通过AI底座、语言底座、通讯社媒底座、财务底座实现全球化运营。工作台根据登录角色动态加载，权限实时生效。

## 2. 用户故事
- 作为**店长**，我想要在一个界面上看到门店经营全貌（营收、客流、KOC贡献、设备状态、成本数据、人员绩效），并能快速处理审批、查看报表、调整活动、监控安全，以便高效管理门店。
- 作为**店助**，我想要协助店长处理日常事务，监督各岗位执行标准，跟进营销活动落地，协调跨部门协作，处理客诉升级。
- 作为**前台主管**，我想要管理前台团队排班、培训、服务质量，监控收银准确性，处理复杂客诉，确保高峰期秩序。
- 作为**前台**，我想要快速核销预约、办理会员开卡、销售商品、处理咨询、记录客诉，并能实时查看个人业绩目标。
- 作为**导玩员**，我想要查看负责区域设备状态、排队情况，引导顾客体验，记录现场问题，参与互动活动，并接受安全提醒。
- 作为**技术员**，我想要接收维修工单、巡检任务，记录维修日志，管理备件，监控设备运行状态，完成预防性维护。
- 作为**技术主管**，我想要统筹技术团队工作，制定巡检计划，分析设备故障率，控制备件成本，培训新人。
- 作为**安监机修**，我想要接收安全巡检任务，处理突发事件，记录事故报告，管理消防设施，确保安全合规。
- 作为**保洁**，我想要查看清洁任务清单（按区域/时段），记录清洁消毒完成情况，上报设施损坏，接收高峰时段支援指令。
- 作为**财务**，我想要进行日结对账、成本监控、票据管理、税务申报，生成财务报表，分析财务风险。
- 作为**出纳**，我想要处理现金收付、银行对账、报销审核、工资发放，确保资金安全。
- 作为**人事行政**，我想要管理员工档案、考勤、招聘、培训、绩效，处理劳动关系，组织员工活动。
- 作为**市场营销**，我想要策划活动、设计素材、投放渠道、追踪效果，分析市场数据。
- 作为**团建专员**，我想要管理团建客户、方案、报价、订单，跟进团建执行。

## 3. 功能列表（按优先级）

### 3.1 店长工作台

#### P0（核心运营）
| ID | 功能名称 | 描述 | 技术实现要点 | 验收标准 |
|----|----------|------|--------------|----------|
| M01 | 经营概览看板 | 展示今日实时数据：营收、客流、核销数、盲盒销售额、KOC贡献额、设备在线率、预警数（安全/设备/客诉）。支持切换日期查看历史趋势。 | 接口：`GET /api/dashboard/store/{storeId}/overview`，聚合订单、核销、设备、KOC、安全、客诉数据。前端ECharts图表。 | 数据延迟≤5秒，图表加载≤2秒 |
| M02 | 待办审批列表 | 展示待处理审批（采购、报销、请假、调拨、活动审批、客诉升级），点击可跳转详情处理。 | 接口：`GET /api/approvals/pending?role=store_manager`，工作流引擎驱动。 | 实时更新，审批操作后状态刷新 |
| M03 | 人员管理 | 查看员工列表、排班表、考勤统计、绩效排名。支持排班调整、考勤异常处理、绩效评估。 | 接口：`GET /api/staff/schedule`，`POST /api/staff/attendance/adjust`，`GET /api/staff/performance` | 排班变更实时生效，绩效数据可导出 |
| M04 | 成本管理 | 查看门店成本构成（人工、水电、物料、营销、设备维护），支持成本分摊规则调整，实时监控预算执行情况。 | 数据来自财务底座成本核算系统，接口：`GET /api/finance/cost/store/{storeId}` | 成本数据与财务一致，预算超支自动预警 |
| M05 | 仓库管理 | 查看库存预警（礼品、彩票、耗材）、调拨申请、盘点任务，支持一键发起调拨。 | 接口：`GET /api/inventory/warnings`，`POST /api/inventory/transfer` | 库存数据实时同步，预警准确 |
| M06 | 安全与客诉看板 | 展示今日安全巡检完成情况、未处理工单、客诉处理率。点击可查看详情并督办。 | 接口：`GET /api/security/overview`，`GET /api/complaints/pending` | 数据实时更新 |
| M07 | 营销活动监控 | 查看当前进行中的活动效果（参与人数、核销率、ROI），支持活动调整建议。 | 接口：`GET /api/marketing/activities/current`，AI提供优化建议 | 活动数据实时同步 |

#### P1（优化决策）
| ID | 功能名称 | 描述 | 技术实现要点 | 验收标准 |
|----|----------|------|--------------|----------|
| M08 | 日报/月报生成 | 自动生成经营日报/月报，支持导出PDF/Excel，包含核心指标、异常分析、改进建议。 | 调用AI底座报告生成服务，数据来自数据中台。 | 生成时间≤30秒 |
| M09 | AI优化建议 | 展示AI推送的优化建议（如补货、排班、活动调整、设备维护、促销策略），店长可采纳或忽略。 | AI底座实时决策引擎推送。 | 建议准确率≥80% |
| M10 | 员工流失预警 | 基于考勤、绩效数据，预测员工离职风险，推送关注建议。 | 人力资源系统数据分析 | 预警准确率≥70% |

### 3.2 店助工作台

#### P0
| ID | 功能名称 | 描述 | 技术实现要点 | 验收标准 |
|----|----------|------|--------------|----------|
| A01 | 今日重点任务 | 展示店长分配的任务（活动跟进、检查、协调事项），支持任务进度更新。 | 接口：`GET /api/tasks/assistant`，`POST /api/tasks/update` | 实时同步 |
| A02 | 跨部门协作 | 查看各部门待协调事项（如技术部设备检修、前台支援需求），可快速沟通。 | 集成通讯社媒底座，一键发起沟通 | 沟通记录可追溯 |
| A03 | 客诉升级处理 | 接收前台升级的复杂客诉，协助处理并记录结果。 | 接口：`GET /api/complaints/escalated`，`POST /api/complaints/resolve` | 处理时效≤1小时 |
| A04 | 活动执行监控 | 查看各区域活动执行进度，确认物料到位情况。 | 接口：`GET /api/activities/execution` | 实时更新 |

### 3.3 前台主管工作台

#### P0
| ID | 功能名称 | 描述 | 技术实现要点 | 验收标准 |
|----|----------|------|--------------|----------|
| FS01 | 团队排班 | 管理前台员工排班，确保高峰时段人手充足。 | 接口：`GET /api/schedule/frontdesk`，`POST /api/schedule/adjust` | 排班实时生效 |
| FS02 | 服务质量监控 | 查看前台员工服务评分（基于顾客评价、神秘访客），跟踪投诉处理时效。 | 接口：`GET /api/quality/frontdesk` | 数据每日更新 |
| FS03 | 收银准确性 | 监控前台收银差异率，异常自动告警。 | 财务底座接口：`GET /api/finance/cash-diff` | 差异率≤0.3% |
| FS04 | 培训管理 | 分配培训任务（新员工入职培训、服务规范更新），跟踪完成情况。 | 接口：`GET /api/training/plans`，`POST /api/training/assign` | 培训完成率100% |

### 3.4 前台工作台

#### P0
| ID | 功能名称 | 描述 | 技术实现要点 | 验收标准 |
|----|----------|------|--------------|----------|
| F01 | 快速核销 | 扫码枪/摄像头扫描用户核销码（门票、团购券、会员卡），自动验证并完成核销。 | 接口：`POST /api/orders/verify`，返回订单信息。 | 核销响应≤1秒 |
| F02 | 会员开卡 | 录入手机号、姓名等信息，开卡后生成电子/实体卡，支持会员资料修改。 | 接口：`POST /api/members` | 开卡成功实时同步 |
| F03 | 商品销售 | 扫描商品条码，加入购物车，收银打印小票。支持会员价、优惠券核销。 | 接口：`/api/sales`，对接收银硬件。 | 支付成功率≥99% |
| F04 | 个人业绩 | 实时显示今日销售目标及完成情况（办卡数、销售额、核销单量）。 | 接口：`GET /api/staff/performance/today` | 数据实时更新 |
| F05 | 咨询与投诉 | 记录顾客咨询，快速查询常见问题库；提交简单投诉，升级复杂问题。 | 接口：`POST /api/consultation`，`POST /api/complaints` | 记录完整可追溯 |
| F06 | 高峰期支援 | 接收临时支援指令（如导玩员缺岗时协助引导）。 | 通讯社媒底座推送 | 响应及时 |
| F07 | 交接班管理 | 填写交接班记录（现金、物资、未完成事项），支持电子签名。 | 接口：`POST /api/shift/handover` | 交接记录完整 |

### 3.5 导玩员工作台

#### P0
| ID | 功能名称 | 描述 | 技术实现要点 | 验收标准 |
|----|----------|------|--------------|----------|
| G01 | 区域设备状态 | 显示负责区域设备在线/离线状态、当前排队人数、故障预警。 | 接口：`GET /api/devices/area/{areaId}` | 实时刷新（每30秒） |
| G02 | 引导服务记录 | 记录引导人次、互动活动参与人数，可快速报修、反馈现场问题（如地面湿滑、顾客纠纷）。 | 接口：`POST /api/guiding/log`，`POST /api/report/issue` | 记录实时上传 |
| G03 | 任务提醒 | 接收巡检任务（如每2小时清洁设备）、活动任务（如整点互动）。 | 任务引擎推送 | 准时提醒 |
| G04 | 安全指引 | 查看本区域安全注意事项（如设备急停位置、消防器材点）。 | 静态内容 | 随时可查 |
| G05 | 知识库 | 查看常见设备玩法指南、FAQ，辅助解答顾客疑问。 | 接口：`GET /api/knowledgebase` | 内容及时更新 |

#### P1
| ID | 功能名称 | 描述 | 技术实现要点 | 验收标准 |
|----|----------|------|--------------|----------|
| G06 | 互动活动执行 | 参与组织现场互动活动（如抽奖、比赛），记录活动数据。 | 接口：`POST /api/activities/execute` | 数据同步 |

### 3.6 技术员工作台

#### P0
| ID | 功能名称 | 描述 | 技术实现要点 | 验收标准 |
|----|----------|------|--------------|----------|
| T01 | 维修工单 | 接收系统自动生成的维修工单（含故障描述、位置、紧急程度），处理并填写维修记录、耗材使用。 | 接口：`GET /api/workorders`，`POST /api/workorders/process` | 工单状态实时更新 |
| T02 | 巡检计划 | 查看今日巡检任务列表，按路线巡检并提交记录（可拍照上传设备状态）。 | 接口：`GET /api/inspections/today`，`POST /api/inspections/submit` | 巡检记录实时同步 |
| T03 | 备件管理 | 查看备件库存，发起领用申请，接收库存预警。 | 接口：`GET /api/spareparts`，`POST /api/spareparts/apply` | 库存实时更新 |
| T04 | 设备状态监控 | 实时查看全场设备运行状态（在线/离线/故障），可远程重启或调整参数（权限内）。 | 接口：`GET /api/devices/status`，`POST /api/devices/control` | 控制响应≤2秒 |
| T05 | 故障知识库 | 查询常见故障处理方法，提交维修经验。 | 接口：`GET /api/kb/faults`，`POST /api/kb/add` | 内容共享 |

#### P1
| ID | 功能名称 | 描述 | 技术实现要点 | 验收标准 |
|----|----------|------|--------------|----------|
| T06 | 预防性维护计划 | 接收AI推送的预防性维护建议（如某设备运行时长已达保养周期），生成保养工单。 | AI底座分析 | 准确率≥80% |

### 3.7 技术主管工作台

#### P0
| ID | 功能名称 | 描述 | 技术实现要点 | 验收标准 |
|----|----------|------|--------------|----------|
| TM01 | 团队工单看板 | 查看所有技术员工单状态、完成率、平均修复时间。 | 接口：`GET /api/workorders/team` | 数据实时 |
| TM02 | 巡检计划制定 | 制定周/月巡检计划，分配任务。 | 接口：`POST /api/inspections/plan` | 自动提醒 |
| TM03 | 备件库存预警 | 监控关键备件库存，发起采购申请。 | 接口：`GET /api/spareparts/warnings` | 预警及时 |
| TM04 | 故障分析报告 | 统计设备故障率、故障类型分布，生成分析报告。 | 数据中台分析 | 报告每月自动生成 |

### 3.8 安监机修工作台

#### P0
| ID | 功能名称 | 描述 | 技术实现要点 | 验收标准 |
|----|----------|------|--------------|----------|
| S01 | 安全巡检 | 查看每日巡检计划（消防设施、疏散通道、电气线路），逐项检查并拍照上传。 | 接口：`GET /api/security/inspections`，`POST /api/security/submit` | 巡检记录完整 |
| S02 | 突发事件处理 | 接收突发事件报告（如打架、受伤、火警），按预案指引处理并记录。 | 接口：`POST /api/incident/report`，内置应急预案 | 处理闭环 |
| S03 | 事故报告 | 记录安全事故详情（时间、地点、原因、处理结果、保险跟进）。 | 接口：`POST /api/accidents` | 报告加密存储 |
| S04 | 消防设施管理 | 查看灭火器、消火栓等设施有效期，维护记录。 | 接口：`GET /api/fire-equipment` | 到期自动提醒 |
| S05 | 安全培训 | 组织安全培训，记录员工参与情况。 | 接口：`POST /api/training/security` | 培训记录可查 |

### 3.9 保洁工作台

#### P0
| ID | 功能名称 | 描述 | 技术实现要点 | 验收标准 |
|----|----------|------|--------------|----------|
| C01 | 清洁任务清单 | 按区域/时段显示今日清洁任务（地面、卫生间、设备表面、垃圾桶），支持扫码确认完成。 | 接口：`GET /api/cleaning/tasks`，`POST /api/cleaning/complete` | 任务实时更新 |
| C02 | 消毒记录 | 记录高频接触区域消毒时间（门把手、电梯按钮等），每2小时提醒。 | 接口：`POST /api/cleaning/disinfect` | 记录可追溯 |
| C03 | 设施损坏上报 | 发现设施损坏（灯具、水龙头、设备外壳）一键拍照上报。 | 接口：`POST /api/report/fault` | 工单自动生成 |
| C04 | 物资申领 | 申领清洁用品（垃圾袋、清洁剂、消毒液），查看库存。 | 接口：`GET /api/supplies`，`POST /api/supplies/apply` | 申领记录清晰 |
| C05 | 高峰支援 | 接收临时支援指令（如活动后快速清理），确认执行。 | 通讯社媒底座推送 | 响应及时 |

#### P1
| ID | 功能名称 | 描述 | 技术实现要点 | 验收标准 |
|----|----------|------|--------------|----------|
| C06 | 绩效看板 | 查看个人清洁任务完成率、顾客表扬次数。 | 接口：`GET /api/cleaning/performance` | 数据每日更新 |

### 3.10 财务工作台

#### P0
| ID | 功能名称 | 描述 | 技术实现要点 | 验收标准 |
|----|----------|------|--------------|----------|
| FM01 | 日结对账 | 自动汇总收银系统数据，与银行流水对账，标记异常。 | 财务底座接口 | 对账差异自动预警 |
| FM02 | 成本监控 | 查看门店各项成本（人工、物料、能耗）实时数据，超预算预警。 | 接口：`GET /api/finance/cost` | 数据实时 |
| FM03 | 票据管理 | 管理发票、收据的开具、核销、库存。 | 接口：`POST /api/invoice/issue`，`GET /api/invoice/stock` | 票据流向清晰 |
| FM04 | 税务申报 | 自动生成纳税申报表（增值税、所得税等），支持一键申报（对接税局）。 | 接口：`GET /api/tax/report`，`POST /api/tax/submit` | 准确率100% |
| FM05 | 财务报表 | 生成利润表、资产负债表、现金流量表。 | 接口：`GET /api/finance/statements` | 每月定时生成 |
| FM06 | 风险预警 | 监控税负率异常、发票重复报销、大额异常支付，推送预警。 | 财务风控引擎 | 预警准确率≥90% |

### 3.11 出纳工作台

#### P0
| ID | 功能名称 | 描述 | 技术实现要点 | 验收标准 |
|----|----------|------|--------------|----------|
| CA01 | 现金收付 | 记录现金收支，每日盘点，与系统核对。 | 接口：`POST /api/cash/record`，`GET /api/cash/balance` | 账实相符 |
| CA02 | 银行对账 | 导入银行流水，自动勾对，处理未达账项。 | 接口：`POST /api/bank/import`，`GET /api/bank/reconcile` | 对账完成率≥98% |
| CA03 | 报销审核 | 接收员工报销申请，审核单据，提交付款。 | 接口：`GET /api/reimbursements/pending`，`POST /api/reimbursements/approve` | 审批流程闭环 |
| CA04 | 工资发放 | 根据绩效数据计算工资，生成工资条，发起银行代发。 | 接口：`POST /api/payroll/calculate`，`POST /api/payroll/submit` | 准时无误 |

### 3.12 人事行政工作台

#### P0
| ID | 功能名称 | 描述 | 技术实现要点 | 验收标准 |
|----|----------|------|--------------|----------|
| HR01 | 员工档案 | 员工信息增删改查，合同管理，资料上传（身份证、学历证等）。 | 接口：`/api/hr/employees`，文件存储OSS。 | 数据加密存储 |
| HR02 | 考勤管理 | 查看考勤统计，处理请假/加班审批，对接考勤机数据。 | 接口：`/api/attendance` | 审批流程完整 |
| HR03 | 招聘管理 | 发布职位（同步至招聘平台）、筛选简历、安排面试。 | 集成通讯社媒底座，一键发布 | 发布成功率≥99% |
| HR04 | 培训管理 | 组织培训（新员工入职、技能培训），记录签到、考核成绩。 | 接口：`/api/training/plans`，`POST /api/training/sign` | 培训记录完整 |
| HR05 | 绩效管理 | 配置KPI模板，录入绩效评分，查看绩效排名，生成绩效报表。 | 接口：`/api/performance` | 绩效数据可导出 |
| HR06 | 劳动关系 | 处理员工投诉、劳动纠纷，记录离职面谈，维护员工关系。 | 接口：`/api/labor/disputes` | 处理记录可追溯 |
| HR07 | 员工活动 | 组织员工团建、生日会，记录活动预算和参与情况。 | 接口：`/api/employee-activities` | 预算可控 |

### 3.13 市场营销工作台

#### P0
| ID | 功能名称 | 描述 | 技术实现要点 | 验收标准 |
|----|----------|------|--------------|----------|
| MK01 | 活动管理 | 创建营销活动（时间、规则、预算），配置推广渠道，审核活动。 | 接口：`/api/marketing/activities` | 活动实时生效 |
| MK02 | 素材库 | 查看/下载AI生成的营销素材（海报、视频、文案），支持多语言、自定义修改。 | 接口：`GET /api/materials`，文件存储OSS | 素材加载快 |
| MK03 | 投放管理 | 选择投放渠道（抖音、小红书、公众号、朋友圈），设置预算，追踪曝光、点击、转化。 | 通讯社媒底座分发，数据回流 | 投放数据实时 |
| MK04 | 效果分析 | 查看各渠道引流数据（曝光、点击、转化、ROI），图表可视化。 | 接口：`GET /api/marketing/stats` | 数据延迟≤5分钟 |
| MK05 | 竞品分析 | 收集竞品活动信息，生成对比报告。 | 人工录入+数据抓取 | 定期更新 |

### 3.14 团建专员工作台

#### P0
| ID | 功能名称 | 描述 | 技术实现要点 | 验收标准 |
|----|----------|------|--------------|----------|
| TB01 | 客户管理 | 企业客户信息录入、跟进记录、标签管理。 | 接口：`/api/customers` | 客户数据加密 |
| TB02 | 方案库 | 查看/新增团建方案模板（含项目组合、报价、时长），支持自定义。 | 接口：`/api/plans` | 方案可复用 |
| TB03 | 报价管理 | 基于方案生成报价单，提交审批后发送客户（邮件/微信）。 | 接口：`/api/quotes`，工作流审批 | 报价单可导出PDF |
| TB04 | 订单跟进 | 团建订单状态（洽谈、已签、执行、完成），收款进度，自动提醒。 | 接口：`/api/orders` | 状态同步 |
| TB05 | 反馈收集 | 团建结束后，收集客户反馈，记录改进点。 | 接口：`POST /api/feedbacks` | 反馈闭环 |

## 4. 技术架构
- **前端**：Vue3 + TypeScript + Vuetify（海外）/ Element Plus（国内），工作台根据角色动态加载菜单和组件。
- **后端**：Spring Boot微服务，API网关统一认证，权限通过JWT+角色注解控制。
- **数据**：MySQL存储业务数据，Redis缓存实时指标（如排队人数、设备状态），ClickHouse存储报表数据。
- **底座依赖**：
  - AI底座：用于优化建议、素材生成、风险预警。
  - 语言底座：所有界面文案多语言化。
  - 通讯社媒底座：审批通知、消息推送、社媒发布。
  - 财务底座：成本数据、付款审批、财务报表。

## 5. 接口设计示例
- **店长概览接口**：
  - `GET /api/dashboard/store/{storeId}/overview`
  - 响应：
    ```json
    {
      "revenue": 12345.67,
      "visitors": 230,
      "redemptions": 189,
      "blindboxSales": 3456.78,
      "kocContribution": 890.12,
      "deviceOnlineRate": 0.98,
      "alertCount": 2,
      "securityAlerts": 1,
      "complaintPending": 3,
      "trend": {
        "revenue": [12000, 12500, 12345],
        "visitors": [200, 210, 230]
      }
    }
    ```

- **保洁任务接口**：
  - `GET /api/cleaning/tasks?area={areaId}`
  - 响应：
    ```json
    [
      {
        "id": 101,
        "area": "卫生间",
        "task": "地面清洁消毒",
        "frequency": "每2小时",
        "deadline": "10:30",
        "status": "pending"
      }
    ]
    ```

## 6. 验收标准
- 每个岗位登录后仅看到权限内菜单，无权访问隐藏。
- 所有操作延迟≤2秒，实时数据刷新≤5秒。
- 审批流程完整，操作记录可追溯。
- 符合国内/海外合规要求（数据脱敏、同意管理）。

## 7. 依赖模块
- **AI底座**：M09优化建议、MK02素材生成、T06预防性维护、FM06风险预警。
- **语言底座**：所有静态文案多语言化。
- **通讯社媒底座**：审批通知（企微/邮件）、素材分发、招聘发布。
- **财务底座**：成本数据、付款审批、财务报表、税务申报。
- **硬件联动网关**：设备状态监控、工单生成。
- **安全风控模块**：突发事件处理、安全巡检。

---
**版本历史**：
| 版本 | 日期 | 修改内容 | 作者 |
|------|------|----------|------|
| V1.0 | 2025-03-01 | 初始版本，基于深圳Party Day模板 | 产品团队 |
| V2.0 | 2025-03-02 | 根据实际岗位职责文件丰富功能，增加保洁、财务、出纳、人事行政、市场营销、团建专员等岗位工作台，细化任务和KPI | 产品团队 |