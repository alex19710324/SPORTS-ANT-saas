# PRD-019：营销活动管理（适配Trae开发）

## 1. 概述
- **目标用户**：市场专员、店长、总部运营、活动策划。
- **核心价值**：提供统一的营销活动管理平台，支持多种活动类型（拼团、秒杀、储值、打卡、排行榜、节日促销等），实现活动快速创建、多渠道分发、自动化执行、效果追踪与优化，提升活动转化率与ROI。
- **技术目标**：基于Spring Boot + Vue3微服务架构，集成活动引擎、规则引擎、AI底座（效果预测）、通讯社媒底座（分发）、财务底座（预算、结算），支持活动A/B测试，数据实时反馈。

## 2. 用户故事
- 作为**市场专员**，我想要创建一次“五一假期拼团”活动，设置活动时间、规则、奖励，并一键分发到小程序、公众号、抖音、小红书等渠道。
- 作为**店长**，我想要查看本店当前进行中的活动效果（参与人数、核销率、营收），并能实时调整活动参数（如优惠券力度）。
- 作为**总部运营**，我想要对比不同区域的活动效果，分析哪些活动类型更受欢迎，优化全国活动策略。
- 作为**会员**，我想要在小程序首页看到个性化推荐的活动，并轻松参与。

## 3. 功能列表（按优先级）

### 3.1 活动类型与模板（P0）

| ID | 功能名称 | 描述 | 技术实现要点 | 验收标准 |
|----|----------|------|--------------|----------|
| MA01 | 活动类型库 | 内置常见活动类型：拼团、秒杀、储值赠礼、打卡挑战、排行榜竞技、节日促销、新会员专享等。 | 活动引擎 | 类型可扩展 |
| MA02 | 活动模板 | 支持将常用活动保存为模板，复用参数（如规则、奖励、渠道）。 | 接口：`POST /api/marketing/templates` | 模板复用成功 |

### 3.2 活动创建与配置（P0）

| ID | 功能名称 | 描述 | 技术实现要点 | 验收标准 |
|----|----------|------|--------------|----------|
| MA03 | 基础信息配置 | 填写活动名称、时间、目标人群（全部/指定会员等级/KOC）、参与门店。 | 接口：`POST /api/marketing/activities` | 保存成功 |
| MA04 | 规则配置 | 根据活动类型配置具体规则（如拼团人数、秒杀库存、打卡天数、奖励内容）。 | 规则引擎 | 规则生效 |
| MA05 | 奖励配置 | 配置活动奖励（优惠券、积分、盲盒、NFT、实物礼品），支持多档位。 | 权益服务 | 奖励发放准确 |
| MA06 | 预算控制 | 设置活动总预算，实时监控预算消耗，超限自动暂停。 | 财务底座 | 预算控制准确 |

### 3.3 多渠道分发（P1）

| ID | 功能名称 | 描述 | 技术实现要点 | 验收标准 |
|----|----------|------|--------------|----------|
| MA07 | 渠道选择 | 选择活动展示渠道（小程序首页Banner、公众号推文、抖音挂载、小红书笔记、短信推送）。 | 通讯社媒底座 | 选择灵活 |
| MA08 | 内容生成 | 自动生成各渠道适配的文案、图片、短视频（AI辅助），支持手动修改。 | AI内容生成引擎 | 生成时间≤5秒 |
| MA09 | 定时发布 | 支持设置定时发布，到点自动推送/上架。 | 定时任务 | 准时 |

### 3.4 活动执行与追踪（P0）

| ID | 功能名称 | 描述 | 技术实现要点 | 验收标准 |
|----|----------|------|--------------|----------|
| MA10 | 实时看板 | 实时展示活动参与人数、核销数、营收、剩余预算、ROI，图表可视化。 | 数据中台 | 数据刷新≤5秒 |
| MA11 | 参与记录 | 查看用户参与明细（谁、何时、获得奖励），支持导出。 | 接口：`GET /api/marketing/activities/{id}/records` | 导出≤10秒 |
| MA12 | 动态调整 | 活动进行中可调整部分参数（如优惠券数量、延长活动时间），需审批。 | 工作流引擎 | 调整生效 |

### 3.5 效果分析与优化（P2）

| ID | 功能名称 | 描述 | 技术实现要点 | 验收标准 |
|----|----------|------|--------------|----------|
| MA13 | 活动报告 | 活动结束后自动生成总结报告（参与人数、转化率、ROI、用户画像）。 | AI底座 | 报告生成≤5分钟 |
| MA14 | A/B测试 | 支持创建多个版本活动（如不同海报、不同话术），自动切分流量，对比效果。 | 实验平台 | 结果清晰 |
| MA15 | 效果预测 | AI基于历史数据预测新活动效果（预估参与人数、营收），辅助决策。 | AI模型 | 准确率≥80% |

## 4. 技术架构
- **活动引擎**：自研规则引擎（支持时间、人群、行为触发）。
- **数据**：MySQL（活动配置）、Redis（实时计数）、ClickHouse（分析）。
- **底座依赖**：
  - AI底座：内容生成、效果预测。
  - 通讯社媒底座：分发。
  - 财务底座：预算、结算。
  - 权益系统：奖励发放。

## 5. 接口设计示例
- **创建拼团活动**：
  - `POST /api/marketing/activities`
  - 请求：
    ```json
    {
      "name": "五一拼团",
      "type": "group_buy",
      "startTime": "2025-05-01T00:00:00Z",
      "endTime": "2025-05-07T23:59:59Z",
      "targetGroups": ["all"],
      "stores": ["all"],
      "rules": {
        "groupSize": 3,
        "discount": 0.8
      },
      "rewards": {
        "type": "coupon",
        "value": 10
      },
      "budget": 10000,
      "channels": ["app_banner", "wechat_article"]
    }
    ```

## 6. 验收标准
- 活动创建后准时启动/结束。
- 奖励发放准确无误。
- 多渠道分发成功率≥99%。
- 实时看板刷新及时。
- A/B测试结果可量化。

## 7. 依赖模块
- **AI底座**：内容生成、效果预测。
- **通讯社媒底座**：分发。
- **财务底座**：预算控制。
- **权益系统**：优惠券、积分等。

---
**版本历史**：
| 版本 | 日期 | 修改内容 | 作者 |
|------|------|----------|------|
| V1.0 | 2025-03-03 | 初始版本，整合营销活动管理 | 产品团队 |