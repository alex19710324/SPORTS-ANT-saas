# PRD-029：门店综合服务质量管理（适配Trae开发）

## 1. 概述
- **目标用户**：店长、值班经理、客服专员、神秘顾客、总部品控人员。
- **核心价值**：建立全面的服务质量监控与改进体系，涵盖服务标准数字化、顾客满意度采集、神秘顾客暗访、投诉处理闭环、服务数据分析，持续提升顾客体验，打造品牌口碑。
- **技术目标**：基于Spring Boot + Vue3微服务架构，集成问卷引擎、工单系统、AI底座（情感分析）、通讯社媒底座（推送），实现服务质量可量化、可追踪、可改进。

## 2. 用户故事
- 作为**店长**，我想要实时查看本店顾客满意度评分、投诉处理率、服务巡检得分，了解服务短板，安排针对性培训。
- 作为**客服专员**，我接到顾客投诉后，在系统中记录详情，分派给相关责任人处理，并跟踪处理进度，确保投诉闭环。
- 作为**神秘顾客**，我完成暗访后，在系统填写评估问卷，上传照片/视频，系统自动生成绩效评分。
- 作为**总部品控人员**，我想要对比各门店服务质量数据，找出共性问题，推动全国服务标准优化。
- 作为**普通顾客**，我可以在消费后通过小程序快速评价服务，提交意见和建议。

## 3. 功能列表（按优先级）

### 3.1 服务标准数字化（P0）

| ID | 功能名称 | 描述 | 技术实现要点 | 验收标准 |
|----|----------|------|--------------|----------|
| QM01 | 服务标准库 | 将门店各项服务标准（如迎宾语、递物姿势、清洁频次、响应时效）数字化，形成可考核的指标库。 | 内容管理 | 标准清晰 |
| QM02 | 岗位服务标准关联 | 将服务标准与各岗位关联，员工可查看自己岗位的服务要求。 | 接口：`/api/quality/standards` | 关联准确 |

### 3.2 顾客满意度采集（P0）

| ID | 功能名称 | 描述 | 技术实现要点 | 验收标准 |
|----|----------|------|--------------|----------|
| QM03 | 满意度问卷配置 | 支持配置满意度调查问卷（单选、多选、打分、开放问题），可设置触发时机（消费后、离场时）。 | 问卷引擎 | 配置灵活 |
| QM04 | 多通道采集 | 顾客可通过小程序、扫码、短信链接、平板电脑等方式填写满意度问卷。 | 接口：`POST /api/satisfaction/submit` | 采集成功 |
| QM05 | 实时看板 | 实时展示满意度评分趋势、各维度得分、最新评价。 | 数据中台 | 刷新≤5秒 |
| QM06 | 差评预警 | 当收到低分评价（如<3星）时，自动推送预警给店长/值班经理，提醒及时跟进。 | 规则引擎 + 通讯推送 | 预警延迟≤10秒 |

### 3.3 投诉处理闭环（P1）

| ID | 功能名称 | 描述 | 技术实现要点 | 验收标准 |
|----|----------|------|--------------|----------|
| QM07 | 投诉登记 | 客服或顾客（通过小程序）可提交投诉，填写类型、描述、上传证据，自动生成投诉工单。 | 接口：`POST /api/complaints` | 工单自动生成 |
| QM08 | 投诉分派 | 根据投诉类型自动分派给相应责任人（如服务态度→前台主管，设备故障→技术主管），支持手动调整。 | 规则引擎 | 分派准确 |
| QM09 | 处理跟进 | 责任人处理后在系统填写处理措施、结果，上传照片。系统记录处理时效，超时提醒。 | 工单引擎 | 处理记录完整 |
| QM10 | 投诉回访 | 处理完成后，系统自动发送回访问卷给顾客，确认满意度。 | 问卷引擎 | 回访完成率≥80% |
| QM11 | 投诉分析 | 统计投诉类型分布、高频问题、处理时效，生成分析报告。 | 数据中台 | 报表清晰 |

### 3.4 神秘顾客暗访（P2）

| ID | 功能名称 | 描述 | 技术实现要点 | 验收标准 |
|----|----------|------|--------------|----------|
| QM12 | 暗访任务创建 | 总部/区域可创建神秘顾客暗访任务，指定门店、暗访时段、评估表。 | 接口：`POST /api/quality/mystery` | 任务下发 |
| QM13 | 暗访执行 | 神秘顾客到店体验后，通过小程序填写评估表（逐项打分），上传照片/视频，可附加文字说明。 | 移动端表单 | 提交成功 |
| QM14 | 暗访报告 | 系统自动生成暗访报告，包含各项得分、问题点、照片证据，自动推送至店长及上级。 | 报告引擎 | 生成及时 |
| QM15 | 暗访结果应用 | 暗访得分纳入门店/员工绩效考核，可与绩效系统联动。 | HR系统接口 | 数据同步 |

### 3.5 服务巡检（P1，可与SOP模块联动）

| ID | 功能名称 | 描述 | 技术实现要点 | 验收标准 |
|----|----------|------|--------------|----------|
| QM16 | 服务巡检计划 | 管理人员可制定服务巡检计划（如每日/每周抽查服务规范执行情况）。 | 任务引擎 | 计划下发 |
| QM17 | 巡检执行 | 巡检员在移动端按清单检查（如员工仪容仪表、礼貌用语、现场秩序），逐项打分，拍照记录。 | 接口：`POST /api/quality/check` | 记录完整 |
| QM18 | 巡检结果 | 巡检结果实时汇总，异常项自动生成整改任务。 | 工单联动 | 整改闭环 |

### 3.6 服务质量分析与改进（P2）

| ID | 功能名称 | 描述 | 技术实现要点 | 验收标准 |
|----|----------|------|--------------|----------|
| QM19 | 服务质量看板 | 展示门店综合服务质量得分、各项指标趋势、与目标对比。 | 数据中台 | 数据实时 |
| QM20 | 问题归因分析 | AI自动分析投诉、差评、巡检问题，找出共性问题（如“周末下午服务响应慢”），提供改进建议。 | AI底座 | 建议采纳率≥70% |
| QM21 | 改进任务追踪 | 针对发现的问题创建改进任务，指定负责人和期限，跟踪完成情况。 | 任务引擎 | 闭环管理 |

## 4. 技术架构
- **前端**：Vue3 + Element Plus（后台），小程序端（顾客评价、神秘顾客）。
- **后端**：Spring Boot + 质量管理微服务。
- **数据**：MySQL（问卷、投诉、巡检）、Redis（实时看板）、Elasticsearch（搜索）。
- **底座依赖**：
  - 通讯社媒底座：预警推送、回访通知。
  - AI底座：情感分析、问题归因。
  - 工单系统：整改任务。
  - 数据中台：报表分析。

## 5. 接口设计示例
- **提交顾客满意度评价**：
  - `POST /api/satisfaction/submit`
  - 请求：
    ```json
    {
      "storeId": 1001,
      "userId": 12345,
      "orderId": 3001,
      "scores": {
        "overall": 5,
        "service": 4,
        "environment": 5,
        "device": 4
      },
      "comment": "服务员很热情，但设备有点故障",
      "photos": ["url1"]
    }
    ```

- **创建投诉工单**：
  - `POST /api/complaints`
  - 请求：
    ```json
    {
      "storeId": 1001,
      "customerId": 12345,
      "type": "服务态度",
      "description": "前台态度冷漠",
      "evidenceUrls": ["url"],
      "contactPhone": "13800138000"
    }
    ```

## 6. 验收标准
- 满意度问卷填写流畅，数据实时入库。
- 投诉处理闭环率≥95%。
- 差评预警延迟≤10秒。
- 暗访报告生成时间≤30秒。
- 服务质量看板数据准确。

## 7. 依赖模块
- **通讯社媒底座**：预警推送。
- **AI底座**：问题归因。
- **工单系统**：整改任务。
- **数据中台**：分析报表。
- **HR系统**：暗访结果与绩效联动。

---
**版本历史**：
| 版本 | 日期 | 修改内容 | 作者 |
|------|------|----------|------|
| V1.0 | 2025-03-03 | 初始版本，整合门店综合服务质量管理 | 产品团队 |