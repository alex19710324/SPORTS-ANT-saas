# PRD-104：门店自助点餐机管理（适配Trae开发）

## 1. 概述
- **目标用户**：顾客、后厨、设备维护员。
- **核心价值**：管理门店自助点餐机（Kiosk），支持菜单同步、订单下发、故障监控、数据分析，提升点餐效率，减少排队。
- **技术目标**：对接安卓/IoT自助终端，集成菜单服务、订单系统、支付网关，支持远程内容更新、状态监控。

## 2. 用户故事
- 作为**顾客**，我在自助机上点餐，支付成功后，订单自动发送到后厨，屏幕显示取餐号。
- 作为**运营**，我在后台更新了饮品菜单，自助机次日自动同步新菜单。

## 3. 功能列表（按优先级）

### 3.1 终端管理（P0）

| ID | 功能名称 | 描述 | 技术实现要点 | 验收标准 |
|----|----------|------|--------------|----------|
| KM01 | 设备注册 | 录入自助机编号、位置、IP、型号。 | 接口：`/api/kiosk/devices` | 成功 |
| KM02 | 状态监控 | 实时监控自助机在线/离线、打印机状态、触摸屏状态，异常告警。 | WebSocket | 实时 |

### 3.2 内容管理（P0）

| ID | 功能名称 | 描述 | 技术实现要点 | 验收标准 |
|----|----------|------|--------------|----------|
| KM03 | 菜单同步 | 后台修改菜单后，可手动/自动推送到指定自助机。 | 接口：`POST /api/kiosk/sync` | 同步成功 |
| KM04 | 广告管理 | 支持在自助机空闲时播放广告图片/视频，可远程更新。 | 内容管理 | 播放正常 |

### 3.3 订单处理（P0）

| ID | 功能名称 | 描述 | 技术实现要点 | 验收标准 |
|----|----------|------|--------------|----------|
| KM05 | 订单接收 | 自助机下单后，订单进入系统，推送至后厨打印/屏幕。 | 订单系统 | 响应≤2秒 |

### 3.4 数据统计（P2）

| ID | 功能名称 | 描述 | 技术实现要点 | 验收标准 |
|----|----------|------|--------------|----------|
| KM06 | 使用分析 | 统计各自助机使用频率、热门点餐时段、故障率。 | 数据中台 | 报表清晰 |

## 4. 依赖模块
- 订单系统（PRD-001）
- 支付网关（PRD-014）
- 后厨打印（PRD-073）

---
**版本历史**：V1.0 2025-03-03